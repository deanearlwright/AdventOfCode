Advent of Code 2015 Day 21 Part Two

From https://adventofcode.com/2015/day/21 by Eric Wastl

----- Day 21: RPG Simulator 20XX -----

----- Part Two -----

Turns out the shopkeeper is working with the boss, and can persuade you to 
buy whatever items he wants. The other rules still apply, and he still only 
has one of each item.

What is the most amount of gold you can spend and still lose the fight?
